<html>
    <head>
        <meta charset="utf-8">
        <title>Login</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" integrity="sha512-8bHTC73gkZ7rZ7vpqUQThUDhqcNFyYi2xgDgPDHc+GXVGHXq+xPjynxIopALmOPqzo9JZj0k6OqqewdGO3EsrQ==" crossorigin="anonymous" />
    </head>
    <body>
        <div class="ui centered page grid">
            <div class="column seven wide">
                <div id="login" class="ui vertical segment">
                    <form class="ui inverted form segment">
                        <h1>
                            Sign In
                            <a class="ui right floated button" onclick="showAuth()" >Register</a>
                        </h1>
        
                        <div class="field">
                            <label>Username / Email</label>
                            <div class="ui left icon input">
                                <input id="username_login" type="text" name="username_login">
                                <i class="user icon"></i>
                            </div>
                        </div>
                        <div class="field">
                            <label>Password</label>
                            <div class="ui left icon input">
                                <input id="password_login" type="password" name="password_login">
                            <i class="lock icon"></i>
                            </div>
                        </div>
                        <div class="field">
                          <div class="ui checkbox">
                            <input type="checkbox" tabindex="0" class="hidden">
                            <label>Stay signed in</label>
                          </div>
                        </div>
                        <button class="ui button" onclick="submitLogin()">Submit</button>
                    </form>
                </div>
                <div id="register" class="ui vertical segment" style="display:none;">
                    <form class="ui inverted form segment" action="/auth/register" method="POST">
                        <h1>
                            Register
                            <a class="ui right floated button" onclick="showAuth()">Sign In</a>
                        </h1>
                        <div class="field">
                            <label>First Name</label>
                            <input type="text" name="firstName" placeholder="First Name">
                        </div>
                        <div class="field">
                            <label>Last Name</label>
                            <input type="text" name="lastName" placeholder="Last Name">
                        </div>
                        <div class="field">
                            <label>Email</label>
                            <input type="text" name="email" placeholder="Email">
                        </div>
                        <div class="field">
                            <label>Username</label>
                            <input type="text" name="username" placeholder="Username">
                        </div>
                        <div class="field">
                            <label>Password</label>
                            <input type="text" name="password" placeholder="Password">
                        </div>
                        <div class="field">
                          <div class="ui checkbox">
                            <input type="checkbox" tabindex="0" class="hidden">
                            <label>Stay signed in</label>
                          </div>
                        </div>
                        <button class="ui button">Submit</button>
                    </form>
                </div>
            </div>
         </div>
        


        <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js" integrity="sha512-dqw6X88iGgZlTsONxZK9ePmJEFrmHwpuMrsUChjAw1mRUhUITE5QU9pkcSox+ynfLhL15Sv2al5A0LVyDCmtUw==" crossorigin="anonymous"></script>
        <script>
            function submitLogin() {
                // '../backend/routes/api/v1/auth/login'
                console.log(document.getElementById('username_login').value)
                console.log(document.getElementById('password_login').value)
                fetch('/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ 
                        username: document.getElementById('username_login').value, 
                        password: document.getElementById('password_login').value
                    }) 
                }) 
                .then(response => response.json())
                .then(data => {
                    console.log(data)
                })
                .catch(function(err) {
                    //Failure
                    alert('Error')
                });
            }

            

            function showAuth() {
                var x = document.getElementById("login");
                var y = document.getElementById("register");
                if (x.style.display === "none") {
                    x.style.display = "block";
                    y.style.display = "none"
                } else {
                    x.style.display = "none";
                    y.style.display = "block";
                }
            }
        </script>
    </body>
</html>
